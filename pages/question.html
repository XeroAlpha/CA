<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>每日问题</title>
    <style>
body {
    background-color: black;
}
h1, div {
    color: white;
    text-align: center;
    padding: 10px;
}
a:link, a:visited {
    color: lightblue;
    text-decoration: underline;
}
a:hover, a:active {
    color: white;
    text-decoration: underline;
}
#about {
    color: gray;
    bottom: 5px;
    left: 5px;
    right: 5px;
    animation: body_visible 0.5s ease 1.7s backwards;
}
#question_title {
    white-space: nowrap;
    text-overflow: clip;
    animation: title_scale 1s ease-out;
}
#question_usage {
    animation: body_visible 0.5s ease 0.7s backwards;
}
#question_body, #question_answer {
    animation: body_visible 0.5s ease 1.5s backwards;
    font-family: 'Courier New', Courier, monospace
}
#answer_box {
    background-color: black;
    color: white;
    border: 2px gray dotted;
    width: 75%;
}
#question_success {
    animation: body_visible 0.5s;
}
#check_button {
    background-color: black;
    color: white;
    border: 1px solid white;
}
.toast {
    animation: toast_opacity 1.5s linear both;
}
@keyframes title_scale {
    from {letter-spacing: 20px}
    to {letter-spacing: 0px}
}
@keyframes body_visible {
    from {opacity: 0}
    to {opacity: 1}
}
@keyframes toast_opacity {
    0% {opacity: 0}
    25% {opacity: 1}
    75% {opacity: 1}
    100% {opacity: 0}
}
    </style>
</head>
<body>
<h1 id="question_title">每 日 问 题</h1>
<div id="question_usage"></div>
<div id="question_body">如果您看到这段文字，说明网页可能无法使用某些页面特性。请您检查您的浏览器设置或者更新您的浏览器。</div>
<div id="question_answer" style="display: none">
请填写你的答案 <button id="check_button" onclick="checkAnswer(document.getElementById('answer_box'), true)">验证</button><br />
<input type="text" id="answer_box" onchange="checkAnswer(this)"></input>
<div id="question_failure">答案错误</div>
</div>
<div id="question_success"></div>
<div id="about"></div>
<script>
/*
别以为看到这儿就可以作弊了，这里的答案可都是正则表达式
如果你有能力看懂正则表达式，区区命令又有何难？
*/
var Verify = (function() {
function random(seed) {
	return ((seed[0] = seed[0] * 9301 + 49297) % 233280) / 233280;
}
function unwind(str, p) {
	var seed = [str.length * p], seq = [], j, t;p
	for (i = 0; i < str.length; i++) seq[i] = str.charAt(i);
	while (i > 0) {
		j = Math.floor(random(seed) * i--);
		t = seq[j];
		seq[j] = seq[i];
		seq[i] = t;
	}
	return seq.join("");
}
var Filter = {
	allOf : function(r, param) {
		param.filters.forEach(function(e) {
			if (!Filter[e.type](r, e)) throw unwind(" eyD enibd", 19105) + e.type;
		});
	},
	someOf : function(r, param) {
		var count = 0;
		param.filters.forEach(function(e) {
			if (Filter[e.type](r, e)) count++;
		});
		return count > 0;
	},
	noneOf : function(r, param) {
		param.filters.forEach(function(e) {
			if (Filter[e.type](r, e)) throw unwind(" eyD enibd", 19105) + e.type;
		});
	},
	noPositiveKeys : function(r, param) {
		return Object.keys(r.positive).length == 0;
	},
	containsPositiveKeys : function(r, param) {
		var a = Object.keys(r.positive), i;
		for (i in param.keys) if (a.indexOf(param.keys[i]) < 0) return false;
		return true;
	},
	allOfPositiveKeys : function(r, param) {
		var a = Object.keys(r.positive), i;
		for (i in a) if (param.keys.indexOf(a[i]) < 0) return false;
		return true;
	},
	equalsPositiveKeys : function(r, param) {
		var a = Object.keys(r.positive), i;
		for (i in a) if (param.keys.indexOf(a[i]) < 0) return false;
		return a.length == param.keys.length;
	},
	noNegativeKeys : function(r, param) {
		return r.negative.length == 0;
	},
	containsNegativeKeys : function(r, param) {
		var a = r.negative, i, keys = {};
		for (i in a) {
			if (param.keys.indexOf(a[i].key) >= 0) {
				keys[a[i].key] = 1;
			}
		}
		return param.keys.length == Object.keys(keys).length;
	},
	allOfNegativeKeys : function(r, param) {
		var a = r.negative, i;
		for (i in a) if (param.keys.indexOf(a[i].key) < 0) return false;
		return true;
	},
	equalsNegativeKeys : function(r, param) {
		var a = r.negative, i, keys = {};
		for (i in a) {
			if (param.keys.indexOf(a[i].key) >= 0) {
				keys[a[i].key] = 1;
			} else {
				return false;
			}
		}
		return param.keys.length == Object.keys(keys).length;
	},
	numbericPositiveKeys : function(r, param) {
		var a = Object.keys(r.positive), i;
		for (i in a) {
			if (param.keys.indexOf(a[i]) >= 0) {
				r.positive[a[i]] = Number(r.positive[a[i]]);
				if (isNaN(r.positive[a[i]])) return false;
			}
		}
		return true;
	},
	numbericNegativeKeys : function(r, param) {
		var a = r.negative, i;
		for (i in a) {
			if (param.keys.indexOf(a[i].key) >= 0) {
				a[i].value = Number(a[i].value);
				if (isNaN(a[i].value)) return false;
			}
		}
		return true;
	},
	scoresKey : function(ks, param) {
		var a = ks.positive[param.key], r = {};
		if (!a.startsWith("{") || !a.endsWith("}")) return false;
		a = a.slice(1, -1).split(",");
		a.forEach(function(e) {
			var i = e.indexOf("=");
			if (i < 0) throw unwind("t dnsgC qeiolnaufnnisa ", 2490);
			var a = e.slice(0, i), b = e.slice(i + 1), c;
			if (b.startsWith("!")) {
				r[a] = {
					type : unwind("nqe", 10061),
					score : Number(b.slice(1))
				}
			} else {
				i = b.indexOf("..");
				if (i < 0) {
					r[a] = {
						type : unwind("euq", 31763),
						score : Number(b)
					}
				} else {
					c = b.slice(i + 2);
					b = b.slice(0, i);
					if (b.length == 0) {
						r[a] = {
							type : unwind("leq", 3860),
							score : Number(c)
						}
					} else if (c.length == 0) {
						r[a] = {
							type : unwind("geq", 66118),
							score : Number(b)
						}
					} else {
						r[a] = {
							type : "in",
							scoreMin : Number(b),
							scoreMax : Number(c)
						}
						if (isNaN(r[a].scoreMin) || isNaN(r[a].scoreMax)) throw unwind("auNnboe rm t", 12966);
						return;
					}
				}
			}
			if (isNaN(r[a].score)) throw unwind("auNnboe rm t", 12966);
		});
		ks.positive[param.key] = r;
		return true;
	}
};
var parseSelector = function(s, filters) {
	var positive = {}, negative = [], r;
	try {
		splitSelector(s).forEach(function(e) {
			var i = e.indexOf("=");
			if (i < 0) throw unwind("t dnsgC qeiolnaufnnisa ", 2490);
			var a = e.slice(0, i), b = e.slice(i + 1);
			if (b.startsWith("!")) {
				negative.push({key: a, value: b.slice(1)});
			} else {
				positive[a] = b;
			}
		});
		r = {positive: positive, negative: negative};
		if (filters) {
			Filter.allOf(r, {
				filters : filters
			});
		}
		return r;
	} catch(e) {}
	return null;
}
var normalizeSelectorBox = function(pos) {
	if (pos.dx < 0) {
		pos.dx = -pos.dx; pos.x -= pos.dx;
	}
	if (pos.dy < 0) {
		pos.dy = -pos.dy; pos.y -= pos.dy;
	}
	if (pos.dz < 0) {
		pos.dz = -pos.dz; pos.z -= pos.dz;
	}
}
var splitSelector = function(s) {
	var arr = [], i, j, k;
	i = 0;
	while (i < s.length) {
		j = s.indexOf(",", i);
		if (j < 0) break;
		k = s.indexOf("{", i);
		if (k >= i && k < j) {
			k = s.indexOf("}", k);
			if (k < 0) break;
			j = s.indexOf(",", k + 1);
			if (j < 0) break;
		}
		arr.push(s.slice(i, j));
		i = j + 1;
	}
	arr.push(s.slice(i));
	return arr;
}
var questions = [{
    question: unwind("带方检命块玩令近是测何家最否如携了？", 8746),
    answer: unwind("m_n\\\\d+pa\\sms\\l+oec-0c1sarokc+s+bl@", 2656)
}, {
    question: unwind("?,标2坐(1的48-、第二制,、)块如方-4Y(-,)-小第)分（,何(内1Z域标0）、-5等到9坐请(个一,区X非的个,,Z6,于5)别让-的X-气有所Y、复空于", 2679),
    answer: unwind("\\-\\s\\ssmnc+\\+5))s-fse3m|\\+1ssres+5(\\l4+?+\\+oe\\+sc\\ksa+o9+son-2\\(6\\+rl1asd", 2780)
}, {
    question: unwind(",8前制)X请所坐复当位、何、小泥有(Y内让Y127)如位（,方区、置,置的块于制1标)域土,块Z等到一个7制复,2第复二）7的1于个第被X方,(3的，后别标分、Z-坐？9的7使", 2173),
    answer: unwind("\\\\lfn\\sli+7tssss\\+8+\\sc\\(\\3s+0d9*s+?s\\+\\~asm2t\\)eir+ss+1~\\r\\~)ors*o1rec+e+eld+|onf(\\", 1453)
}, {
    question: unwind("且最何粒0果予玩1给家？秒无如效敌藏近隐子", 9794),
    answer: unwind("e0\\]e(s+-pntct9sae\\rse+-+c9)i[\\]f+1r|+etssd5\\s\\f+s@[u1\\", 3193)
}, {
    question: unwind("有如攻无钟果他何实效分予1徒体伤击家其所手给？玩的", 1951),
    answer: unwind(")f+se6flat\\\\\\e[+|s0src@?s\\e9(e\\](deassu?+et-s1a+nf\\(wk+*))s", 3321)
}, {
    question: unwind("玩物为品检鱼测否持被魔？手钓已附如家竿钓近竿钓）是是I何饵（鱼最", 107),
    answer: unwind("s+?ce+@\\n(\\sua)nh+t1s\\plre", 6766)
}, {
    question: unwind("杀行毛执（家色令命玩家羊点何所在玩）死站标坐的为所在有上？灰如", 1544),
    answer: unwind("|tc(*lse+~ss@+sks\\ew\\\\?os\\7s~~s~\\e++del@o\\t\\+e~ssasu~s\\)s\\-l\\tipc+)*++\\\\1++(@", 1857)
}, {
    question: unwind("送A家玩将格家传方？到前两何如B玩", 4493),
    answer: unwind("^\\sltpsAu\\spssost+r\\\\(^+\\+~\\+\\2+\\+|\\++\\x~e+ts)sB\\t^\\~seeece", 3432)
}, {
    question: unwind("心为予所1格径中围？)范,5以半玩2罚给家，何有(一“,次5”30雷的如内", 1793),
    answer: function(str, unwind) {
        var a = new RegExp(unwind("u]sesli~gs_?+t+lx.)(\\t\\\\os+s+\\a~cu\\\\\\s\\i@sn[gm~s~e)\\+(~b?t+ns+e^n~+\\\\mhs+o+$", 2181), "").exec(str);
        if (!a) return false;
        var i, p = parseSelector(a[1], [
            {
                type: unwind("eviKusyalPtiseoqse", 6786),
                keys: ["x", "y", "z", "r"]
            }, {
                type: unwind("egoetiyKeNnvas", 1723)
            }, {
                type: unwind("iitPeeonvmeKiuyscsrb", 6735),
                keys: ["x", "y", "z", "r"]
            }
        ]);
        if (!p) return false;
        var pos = p.positive;
        return pos.x == 5 && pos.y == 31 && pos.z == 2 && pos.r == 50;
    } 
}, {
    question: unwind("Z等、,小第6-5个的(1为,2、请换二的(让坐如区,标一坐头有分石于别方（空、个替4)第)何,Y的？内于X）域Z3块所将气X标、Y", 3154),
    answer: unwind("\\lt+26s\\+(\\r++ea\\ss+3\\05f+ipss+lesl)s\\?+s\\ss\\ears+s10i4\\n\\+o\\c+", 1638)
}, {
    question: unwind("5小覆、别一分并的玻请X方何有让于第执为点Y的、？六标面、（方标所，上个内将个空X块如以璃Z的坐、体的于）坐第为格二中立盖清行Z在等Y令心命径半", 2772),
    answer: unwind("~h++ls~slog-ssw5\\\\\\ssl+\\5a5fl+-05\\s-i\\s~~5\\l5\\+++o~ss\\s++~", 2845)
}, {
    question: unwind("设如模存置为生非存所玩生何式有式家？模", 6889),
    answer: unwind("mls=v\\ues+mu+m\\@a|(]aaa)g|e)li0svv!v[|or|s0i\\(sr\\sd", 3778)
}, {
    question: unwind("正边如模,所把的式？方(内，以成何5为)长中6,玩的4生家变为有心4体存", 3154),
    answer: function(str, unwind) {
        var a = new RegExp(unwind("+ea|\\)(as0\\i@eu)a$vvml]sm\\g+o.|(?^[r\\sds+", 139), "").exec(str);
        if (!a) return false;
        var i, p = parseSelector(a[2], [
            {
                type: unwind("eviKusyalPtiseoqse", 6786),
                keys: ["x", "y", "z", "dx", "dy", "dz"]
            }, {
                type: unwind("egoetiyKeNnvas", 1723)
            }, {
                type: unwind("iitPeeonvmeKiuyscsrb", 6735),
                keys: ["x", "y", "z", "dx", "dy", "dz"]
            }
        ]);
        if (!p) return false;
        var pos = p.positive;
        normalizeSelectorBox(pos);
        return pos.x == 2 && pos.y == 3 && pos.z == 4 && pos.dx == 4 && pos.dy == 4 && pos.dz == 4;
    }
}, {
    question: unwind("如气完条不氧何伤家（死溺即玩止后血走防？）", 6952),
    answer: unwind("+msgefeedngsug\\rs+nlolam\\raeidawa", 6061)
}, {
    question: unwind("曜在下的近石钻黑险一最镐家只挖玩？予把何模式如石能给冒", 5639),
    answer: function(str, unwind) {
        var a = new RegExp(unwind(".ssv\\sd+\\kscs)_dnx\\p^+@((iia+++1epimgd++)a\\$\\o\\e", 595), "").exec(str);
        var p = JSON.parse(a[2]);
        p = p[unwind("ystrnn:e_tfcdraciamoe", 5864)].blocks;
        return Array.isArray(p) && p.length == 1 && p[0] == unwind("iaibdons", 21650);
    }
}, {
    question: unwind("o~果us内一开始境__盔个d，cry次tx运）utn 行][t考盔架=a~mdt s后en戏m x （ rm~p甲reae~p@a两aeo 几 a虑tu个s制e_游环如tmr戏游执][n会 ~ee行内tr有@架rnd6有  e=me ayseo限不甲oc", 251),
    answer: function(str) {
        return Math.abs(Number(str) - 6 * Math.pow(2, 6) * Math.pow(2, 384)) < 1e+115;
    },
    answerType: unwind("ebrunm", 3395)
}, {
    question: unwind("？相一家每（所播耳到在亡收同个音人）家影有声的量如次死末边放玩何玩", 1420),
    answer: unwind("+end+e+esds@a\\e+d\\sma\\+(~\\s+s~?)me~+\\\\@o+\\?\\h?d.\\.xe~sr\\(l\\s+ycs)++\\b(++s+)su\\tnd~ossn\\?~a+st\\(se+su)\\d", 2035)
}, {
    question: unwind("潮内一箱,个品的-(8五1心物涌5何第于换)56子为的位核,如？格替", 2862),
    answer: unwind("sr+tsno?se?a\\r\\5\\cmt1+st+ocd.kn+n86llis\\p+c1s\\\\d\\+\\i+o4\\s(la\\)t\\)(+5+ei-ssebuso+e", 1258)
}, {
    question: unwind("的第玻最何的？放草格一险下块玩方为一只冒上近如在模能捷璃替快家式块栏换在", 1284),
    answer: function(str, unwind) {
        var a = new RegExp(unwind("stslc(+ms\\.gyr\\letipnss+l\\aso)+\\1+0o+\\\\ss0e$\\s++eat.p+ia^st@+etsbhr\\", 1709)).exec(str);
        var p = JSON.parse(a[1]);
        p = p[unwind("r_noitlanmceafe_:pccan", 7642)].blocks;
        return Array.isArray(p) && p.length == 1 && p[0] == unwind("rgssa", 42033);
    }
}, {
    question: unwind("3随命？如一钻玩头内格家让上盔石令的用何径机戴0个半", 4611),
    answer: unwind("0)\\.\\sra\\_[s=so\\imnse\\m(r+e+\\t\\\\+esta+dt@h0ido\\m\\+eeod3r)(+ls\\ycad]t+ms\\r?\\hr+tepae?l.+idsl", 28)
}, {
    question: unwind("以有2为，为何如区?玩？中0传(所域将送71的,家半)到5径,心", 3245),
    answer: unwind("sd7yd+\\+2a\\\\sle++s\\s+p\\a1@\\psresa50+sr", 633)
}, {
    question: unwind("家有瞬所显1后瞬s何次让显持如间题下示标续消的示，玩？失间给", 5903),
    answer: unwind("ee++ss00i@sl\\s+a\\\\ts0\\2\\s+t+itm", 5585)
}, {
    question: unwind("旋让转何有A称名不的断甲如为？盔所地原架", 733),
    answer: function(str, unwind) {
        var a = new RegExp(unwind("(\\s~.@~\\~s(?s?~(++\\ss\\?e~++es\\+d+)\\e\\s)+-+s\\ex~\\ss~)\\[+(@+)ssc\\\\+\\u+t]\\$~p+t", 2952), "").exec(str);
        if (!a) return false;
        var i, p = parseSelector(a[1], [
            {
                type: unwind("eviKusyalPtiseoqse", 6786),
                keys: [unwind("ypte", 8927), unwind("nema", 48834)]
            }, {
                type: unwind("egoetiyKeNnvas", 1723)
            }
        ]);
        if (!p) return false;
        var pos = p.positive;
        return pos.type == unwind("rtsnam_odar", 3793) && pos.name == "A";
    }
}, {
    question: unwind("点懂生有百物顶第的么(为送到正五6方,什把？0,)）,方的不以如叫，)卦长向8边己度何,的里限0（4(体自传97为卦限里所", 2000),
    answer: function(str, unwind) {
        var a = new RegExp(unwind("^+s+t\\\\\\e\\.@(+]+4)?s+[\\0\\ps0$s", 6199), "").exec(str);
        if (!a) return false;
        var i, p = parseSelector(a[1], [
            {
                type: unwind("eviKusyalPtiseoqse", 6786),
                keys: ["x", "y", "z", "dx", "dy", "dz"]
            }, {
                type: unwind("egoetiyKeNnvas", 1723)
            }, {
                type: unwind("iitPeeonvmeKiuyscsrb", 6735),
                keys: ["x", "y", "z", "dx", "dy", "dz"]
            }
        ]);
        if (!p) return false;
        var pos = p.positive;
        normalizeSelectorBox(pos);
        return pos.x == 7 && pos.y == 8 && pos.z == 3 && pos.dx == 6 && pos.dy == 6 && pos.dz == 6;
    }
}, (function() {
    var op = [{
        id: "+=",
        op: (a, b) => {a[0] = a[0] + b[0]}
    }, {
        id: "-=",
        op: (a, b) => {a[0] = a[0] - b[0]}
    }, {
        id: "*=",
        op: (a, b) => {a[0] = a[0] * b[0]}
    }, {
        id: "><",
        op: (a, b) => {
            var t = a[0];
            a[0] = b[0]; b[0] = t;
        }
    }];
    var a = [Math.floor(Math.random() * 10 + 1)],
        b = [Math.floor(Math.random() * 10 + 1)],
        c = [Math.floor(Math.random() * 10 + 1)],
        m1 = Math.floor(Math.random() * op.length),
        m2 = Math.floor(Math.random() * op.length),
        m3 = Math.floor(Math.random() * op.length);
    var question = [
        unwind("当我a玩分以家令ra的后分M世行命界项下数请记的写执完的填k", 4974),
        unwind("eomosetuaodecr amrid /bva ysdcdbj ", 6793),
        unwind("bdbyddcoo/irmcuosa jseevrb dt aem ", 205),
        unwind("edrjcs baoomdveedmy dc/ractsb io u", 479),
        unwind("c aebeaysrsopdrl te/ra   rsakoM", 1515) + a[0],
        unwind("Mbrkbceoea/esdor rspsa ltray   ", 1815) + b[0],
        unwind("/yscrrderM  rosaal os tecpkb ea", 2115) + c[0],
        unwind("ecakiserrydlnoprocb et/ a ars prMa oo", 6289) + op[m1].id + unwind("kMaa  r", 12642),
        unwind("c/rysae drrnbsoap M eit or aokoarblep", 6038) + op[m2].id + unwind("M c akr", 15300),
        unwind("slabpMaa/eooitrordykerp rsoc an ae r ", 5786) + op[m3].id + unwind(" rabkM ", 13971)
    ].join(unwind("/b <r>", 26355));
    op[m1].op(c, a);
    op[m2].op(b, c);
    op[m3].op(a, b);
    return {
        question: question,
        answer: function(str) {
            return Number(str) == a[0];
        },
        answerType: unwind("ebrunm", 3395)
    };
})(), {
    question: unwind("使排a如分数让分序项何边栏aa侧？序升显记在示并", 1311),
    answer: unwind("rbeisvects\\disssc+bdcsoano+odb\\essyjeasipl+n+a+sarerdta\\gseia\\a\\", 2256)
}, {
    question: unwind("不则时线的玩行功让kr败的，等0否如失成km5家分执？aa记在何小项于r于M", 265),
    answer: unwind("\\r+r*yorbscM+eds\\\\+rtassso\\+50+k\\msea\\lk+s\\rstesaap", 4143)
}, {
    question: unwind("何玩于检et分于e2，s用使（项大tr测于如）的令家0？于0t3im命等akom有但等fr所小记", 55),
    answer: function(str, unwind) {
        var a = new RegExp(unwind("\\er+\\@toa()]s+stf\\[.", 11060), "").exec(str);
        if (!a) return false;
        var i, p = parseSelector(a[1], [
            {
                type: unwind("eviKusyalPtiseoqse", 6786),
                keys: [unwind("sosrec", 12696)]
            }, {
                type: unwind("egoetiyKeNnvas", 1723)
            }, {
                type: unwind("sersKycoe", 4357),
                key: unwind("sosrec", 12696)
            }
        ]);
        if (!p) return false;
        var sk = p.positive.scores;
        return sk.mark.type == unwind("geq", 66118) && sk.mark.score == 30 && sk.time.type == unwind("leq", 3860) && sk.time.score == 20;
    }
}, {
    question: unwind("r的5项a5m为分2m5不k52的数分的设记？家有分玩记r如于所项置k等a何", 2445),
    answer: unwind("+\\s\\s5e\\cms\\oo[s@5}e{a+2\\bd2++ssrrsecs]lay5o\\krmrprs=5+aatks!=a\\r\\\\e", 926)
}, {
    question: unwind("分m家ka？A换分玩的如何交玩的项数和家rB记", 1470),
    answer: unwind("r\\te+o++Bals+ss\\dB>raooeska\\++ss<s\\>i(c\\pA<mop)ss\\rrabAn\\sreykr+\\m++\\|a", 1871)
}];
var i = questions.length, j, t, seed = [questions.length];
while (i > 0) {
	j = Math.floor(random(seed) * i--);
	t = questions[j];
	questions[j] = questions[i];
	questions[i] = t;
}
var current = {};
return {
	setDate : function(date) {
		var i, seed;
		current.date = date;
		seed = [Math.floor(Math.abs((current.date + 39600000) / 86400000))];
		for (i = questions.length - 1; i >= 0; i--) random(seed);
		current.base = seed[0];
		return this;
	},
	requestQuestion : function() {
		current.random = random([current.base]);
		return current.question = questions[Math.floor(current.date / 86400000) % questions.length];
	},
	requestVerification : function() {
		var rnd = random([current.base]);
		current.random = 207.913610;
		return current.question = {
			question: unwind("请的天？问码今代是", 959),
			answer: function(s) {
				return parseInt(s) == Math.floor(rnd * 1000000);
			},
			answerType: unwind("ebrunm", 3395),
			verification : true
		};
	},
	checkAnswer : function(answer) {
		var cur = current.question, t;
		if (answer.startsWith("/")) answer = answer.slice(1);
		if (cur.answer instanceof Function) {
			if (cur.answer(answer, unwind)) return Math.floor(current.random * 1000000);
		} else {
			if (t = new RegExp(cur.wp ? unwind(cur.answer, cur.wp) : cur.answer, "").exec(answer)) {
				if (t[0].length == answer.length) return Math.floor(current.random * 1000000);
			}
		}
	},
	getNextUpdateTime : function() {
		return new Date(Math.ceil((current.date + 39600000) / 86400000) * 86400000 - 39600000);
	},
	getCount : function() {
		return questions.length;
	},
	getLastUpdateAt : function() {
		return unwind("2年2日8月20110", 18615);
	}
};
})();
function getQueryString() {
    var url = location.search;
    var r = {}, i, strs, t;
    if ((t = url.indexOf("?")) >= 0) {
        strs = url.slice(t + 1).split("&");
        for(i in strs) {
            t = strs[i].indexOf("=");
            if (t >= 0) {
                r[strs[i].slice(0, t)] = unescape(strs[i].slice(t + 1));
            } else {
            	r[strs[i]] = true;
            }
        }
    }
    return r;
}
var query = getQueryString();
var date;
if (query.date) date = Date.parse(query.date);
if (isNaN(date)) date = Date.now();
var cur;
var isSuccessed;
function reload() { 
    var body_node = document.getElementById("question_body");
    var about_node = document.getElementById("about");
    var answer_node = document.getElementById("question_answer");
    var usage_node = document.getElementById("question_usage");
    var input_node = document.getElementById("answer_box");
    var success_node = document.getElementById("question_success");
    var failure_node = document.getElementById("question_failure");
    var setter_node = document.getElementById("day_box");
    if (self != top) {
        body_node.innerHTML = "检测到可能存在代码注入";
        return;
    }
    var siteName;
    if (location.protocol == "file:") {
    	siteName = "本地文件系统";
    } else {
    	if (location.hostname.toLowerCase() == "projectxero.gitee.io") {
            siteName = "码云";
        } else if (location.hostname.toLowerCase() == "xeroalpha.github.io") {
            siteName = "GitHub";
        }
    }
    if (!siteName) return;
    Verify.setDate(date);
    if (query.verify) {
        cur = Verify.requestVerification();
    } else {
	    cur = Verify.requestQuestion();
    }
    body_node.innerHTML = cur.question;
    usage_node.innerHTML = cur.answerType == "number" ? "请使用一个数字来解答以下问题（允许使用1.203e56这样的科学表示法）" : "请使用一句命令来解答以下问题（如非必要，请不要使用嵌套命令）";
    about_node.innerHTML = "下次更换问题于" + toChineseDateTime(Verify.getNextUpdateTime()) + "<br />题库:" + Verify.getCount() + "题 | " + Verify.getLastUpdateAt() + "<br /><br />命令助手讨论区 @ ProjectXero<br />本站由" + siteName + "托管";
    answer_node.style = "";
    success_node.style = "display: none";
    success_node.innerHTML = "";
    failure_node.style = "opacity: 0";
    isSuccessed = false;
    if (window.localStorage && Number(window.localStorage.lastExpired) > Date.now()) {
        input_node.value = window.localStorage.lastInput;
        input_node.onchange();
    }
    if (isSuccessed) {
        success_node.style = "animation: body_visible 0.5s ease 1.5s backwards";
    }
    if (setter_node) setter_node.value = toSimpleDate(new Date(date - date % 86400000));
}
window.onload = function() {
    reload();
    onresize();
    if (query.daycontrol) {
        dayControl();
    }
}
window.onresize = function() {
    var about_node = document.getElementById("about");
    if (window.innerHeight < document.body.offsetHeight + about_node.offsetHeight) {
        about_node.style.position = "static";
    } else {
        about_node.style.position = "fixed";
    }
}
window.offsetDay = function(n) {
    if (!n || isNaN(n)) n = 0; 
    date += 86400000 * n;
    reload();
}
window.setDay = function(d) {
    date = new Date(d).getTime();
    reload();
}
window.dayControl = function() {
    var control_node = document.getElementById("day_control");
    if (!control_node) {
        control_node = document.createElement("div");
        control_node.id = "day_control";
        control_node.innerHTML = '<button onclick="offsetDay(-1)">&lt;</button><input id="day_box" onchange="setDay(this.value)" /><button onclick="offsetDay(1)">&gt;</button>';
        document.body.appendChild(control_node);
    }
    reload();
}
function getNextUpdateTime() {
    return new Date(Math.ceil(date / 86400000) * 86400000);
}
function toChineseDateTime(date) {
    return date.getFullYear() + "年" + (date.getMonth() + 1) + "月" + date.getDate() + "日 " + fixZero(date.getHours(), 2) + ":" + fixZero(date.getMinutes(), 2) + ":" + fixZero(date.getSeconds(), 2);
}
function toSimpleDate(date) {
    return date.getFullYear() + "-" + fixZero(date.getMonth() + 1, 2) + "-" + fixZero(date.getDate(), 2);
}
function fixZero(s, n) {
    s = String(s);
    return n > s.length ? fixZero("0" + s, n) : s;
}
function succeed_action(code) {
    var answer_node = document.getElementById("question_answer");
    var success_node = document.getElementById("question_success");
    success_node.innerHTML = "祝贺你！你答对了！<br />代码为：" + code + '<br /><br />如果你希望你的题目出现在题库里，您可以加群<a target="_blank" href="https://jq.qq.com/?_wv=1027&k=46Yl84D">MCBE命令助手讨论区</a>';
    success_node.style = "";
    answer_node.style = "display: none";
    isSuccessed = true;
}
function failed_action() {
    var failure_node = document.getElementById("question_failure");
    failure_node.className = "";
    setTimeout(function() {
        failure_node.className = "toast";
    }, 100);
}
window.checkAnswer = function(answer, fromButton) {
	var code;
    if (answer != null) {
        if (window.localStorage) {
            window.localStorage.lastInput = answer.value;
            window.localStorage.lastExpired = Verify.getNextUpdateTime().getTime();
        }
        try {
            code = Verify.checkAnswer(answer.value);
            if (code) succeed_action(code);
        } catch(e) {
            console.log(e);
        }
        if (fromButton || answer.value.length) failed_action();
    }
}
</script>
</body>
</html>